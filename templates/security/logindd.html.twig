{% extends 'user-base.html.twig' %}

{% block title %}Se connecter!{% endblock %}

{% block body %}
    <div class="container" style="margin-top:120px">
        <div class="row">
            <div class="col-sm-9 col-md-7 col-lg-5 mx-auto">
                <div class="card card-signin my-5">
                    <div class="card-body">
                        <h2 class="card-title text-center">Se connecter</h2>
                        {% if error %}
                            <div class="alert alert-danger">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
                        {% endif %}

                        {% if app.user %}
                            <div class="mb-3">
                                Vous êtes connectés en tant que  {{ app.user.username }}, <a href="{{ path('app_logout') }}">Logout</a>
                            </div>
                        {% endif %}
                        <form class="form-signin" method="post">
                            <div class="form-label-group">
                                <label for="inputEmail">Nom d'utilisateur</label>
                                <input type="text" value="{{ last_username }}" name="username" id="inputUsername" class="form-control" required autofocus>
                            </div>

                            <div class="form-label-group">
                                <label for="inputPassword">Mot de passe</label>
                                <input type="password" name="password" id="inputPassword" class="form-control" required>
                            </div>
                            <input type="hidden" name="_csrf_token"
                                   value="{{ csrf_token('authenticate') }}">

                            {#   <div class="custom-control custom-checkbox mb-3">
                                   <input type="checkbox" class="form-check-input" id="rememberMe" name="_remember_me">
                                   <label class="custom-control-label" for="customCheck1">se souvenir de moi</label>
                               </div>#}
                               <button class="btn btn-primary mt-4 btn-block text-uppercase" type="submit">Se connecter</button>

                           </form>
                       </div>
                   </div>
               </div>
           </div>
       </div>
       {#
           <div class="container-fluid">
           <div class="login-wrapper row">
               <div id="login" class="login loginpage col-lg-offset-4 col-md-offset-3 col-sm-offset-3 col-xs-offset-0 col-xs-12 col-sm-6 col-lg-4">
                   <h1 class="text-center">Se connecter</h1>
                   {% if error %}
                   <div class="alert alert-danger">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
                   {% endif %}

                   {% if app.user %}
                   <div class="mb-3">
                       vous êtes connectés en tant que  {{ app.user.username }}, <a href="{{ path('app_logout') }}">Se déconnecter</a>
                   </div>
                   {% endif %}
                   <form name="loginform" id="loginform" action="#" method="post">

                       <p>
                           <label for="user_login">Nom d'utilisateur<br>
                               <input type="text" value="{{ last_username }}" name="username" required autofocus id="user_login" class="input"></label>
                       </p>
                       <p>
                           <label>Mot de passe<br>
                               <input type="password" name="password"  id="user_pass" class="input"></label>
                       </p>
                       <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">
                       <input type="hidden" name="_target_path" value="{{ path('account') }}" />
                       <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}" >
                       <p class="submit">
                           <input type="submit"  id="wp-submit" class="btn btn-accent btn-block" value="Connexion">
                       </p>
                   </form>

                   <p class="text-center">
                       <a class="text-center" href="{{path('request_resetting')}}" >Mot de passe oublié ?</a>
                   </p>


               </div>
           </div>
       </div>
       <form method="post">
           {% if error %}
               <div class="alert alert-danger">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
           {% endif %}

           {% if app.user %}
               <div class="mb-3">
                   vous êtes connectés en tant que  {{ app.user.username }}, <a href="{{ path('app_logout') }}">Se déconnecter</a>
               </div>
           {% endif %}

           <h1 class="h3 mb-3 font-weight-normal">Se connecter</h1>
           <label for="inputUsername">Username</label>
           <input type="text" value="{{ last_username }}" name="username" id="inputUsername" class="form-control" required autofocus>
           <label for="inputPassword">Password</label>
           <input type="password" name="password" id="inputPassword" class="form-control" required>
           <p>
               <a href="{{path('request_resetting')}}">Mot de passe oublié ?</a>
           </p>
           <input type="hidden" name="_csrf_token"
                  value="{{ csrf_token('authenticate') }}"
           >
           <div class="small-12 medium-6 medium-offset-3 large-4 large-offset-4 cell">
               <input type="hidden" name="_target_path" value="{{ path('account') }}" />

               <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}" >
               <button type="submit" class="button">Connexion</button>
           </div>

           {#
               Uncomment this section and add a remember_me option below your firewall to activate remember me functionality.
               See https://symfony.com/doc/current/security/remember_me.html

               <div class="checkbox mb-3">
                   <label>
                       <input type="checkbox" name="_remember_me"> Remember me
                   </label>
               </div>
</form>
           #}
{% endblock %}

